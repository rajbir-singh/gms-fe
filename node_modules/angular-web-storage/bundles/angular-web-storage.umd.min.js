!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("angular-web-storage",["exports","@angular/core"],t):t(e["angular-web-storage"]={},e.ng.core)}(this,function(e,r){"use strict";var u=function(){function i(){}return i.get=function(e,t){var r=i.parse(e.getItem(t)||"null")||null;return null===r?null:"object"==typeof r&&"undefined"!=typeof r._expired&&0!==r._expired&&+new Date>r._expired?(i.remove(e,t),null):r._value||null},i.set=function(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o="t"),e.setItem(t,i.stringify({_expired:i.getExpired(n,o),_value:r}))},i.remove=function(e,t){e.removeItem(t)},i.key=function(e,t){return e.key(t)},i.getExpired=function(e,t){if(e<=0)return 0;var r=+new Date;switch(t){case"s":return r+1e3*e;case"m":return r+6e4*e;case"h":return r+36e5*e;case"d":return r+864e5*e;case"w":return r+6048e5*e;case"y":return r+31536e6*e;case"t":return r+e}return 0},i.stringify=function(e){return JSON.stringify(e)},i.parse=function(e){try{return JSON.parse(e)||null}catch(t){return e}},i}(),c={};function n(r,n,o,i){return void 0===o&&(o=0),void 0===i&&(i="d"),function(e,t){n=n||t,Object.defineProperty(e,t,{get:function(){return u.get(r,n)},set:function(e){if(!c[n])return null===u.get(r,n)&&u.set(r,n,e,o,i),void(c[n]=!0);u.set(r,n,e,o,i)},enumerable:!0,configurable:!0})}}var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),t=function(){function e(e){this.storage=e}return e.prototype.get=function(e){return u.get(this.storage,e)},e.prototype.set=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n="d"),u.set(this.storage,e,t,r,n)},e.prototype.remove=function(e){var t=this;if("string"!=typeof e){for(var r=0,n=u.key(this.storage,r),o=[];n;)e.test(n)&&o.push(n),n=u.key(this.storage,++r);o.forEach(function(e){return u.remove(t.storage,e)})}else u.remove(this.storage,e)},e.prototype.clear=function(){this.storage.clear()},e}(),a=function(e){function t(){return e.call(this,localStorage)||this}return i(t,e),t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(t),s=function(e){function t(){return e.call(this,sessionStorage)||this}return i(t,e),t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(t),f=function(){function e(){}return e.decorators=[{type:r.NgModule}],e}();e.LocalStorage=function l(e,t,r){return void 0===t&&(t=0),void 0===r&&(r="t"),n(localStorage,e,t,r)},e.SessionStorage=function d(e,t,r){return void 0===t&&(t=0),void 0===r&&(r="t"),n(sessionStorage,e,t,r)},e.StorageService=t,e.LocalStorageService=a,e.SessionStorageService=s,e.AngularWebStorageModule=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-web-storage.umd.min.js.map